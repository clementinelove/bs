#lang racket/base

(provide (struct-out s-machine))

;; A script machine is a data structure that stores the states
;; of current running script program.
;; main-stk : the main stack
;; alt-stk : the alt stack
;; tran-state : transaction state, where #f means the transaction is invalid
;; level : a list for storing level branching information
;;         each element is a skipping boolean:
;;           #t -> skip next token (except (skipping-executable? token) => #t)
;;           #f -> do not skip next token
;; length of the level decides the block level

(struct s-machine (main-stk alt-stk tran-state level))
